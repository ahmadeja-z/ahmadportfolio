<!DOCTYPE html>
<html>

<head>
  <base href="$FLUTTER_BASE_HREF">
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TJ2TP1MMEW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-TJ2TP1MMEW');
  </script>
  <!-- End Google Analytics -->

  <!-- SEO Description -->
  <meta name="description"
        content="Portfolio website of Ahmad Ejaz. This portfolio showcases his education, skills and expertise, professional experience, achievements, and hobbies.">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Ahmad Ejaz Portfolio">
  <link rel="apple-touch-icon" href="icons/logo-aerium-2.png">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="icons/logo-aerium-2.png" />

  <!-- Page Title -->
  <title>Ahmad Ejaz | Portfolio</title>

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- External Link Handler -->
  <script type="application/javascript">
    function openLink(url, target, isAsync = false) {
      var isSafari = /^(?!.*chrome).*safari/i.test(navigator.userAgent.toLowerCase());
      if (isSafari && isAsync) {
        window.location.href = url;
      } else {
        window.open(url, target);
      }
    }
  </script>
</head>

<body id="app-container">

<!-- Service Worker for PWA -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker.register('flutter_service_worker.js');
    });
  }
</script>

<!-- GitHub Pages SPA redirect handler -->
<!-- This script handles the 404.html redirect and restores the original path -->
<script type="text/javascript">
  // Single Page Apps for GitHub Pages
  // Source: https://github.com/rafgraph/spa-github-pages
  (function() {
    var pathSegmentsToKeep = 0;
    var l = window.location;
    
    // Check if we have a redirect query string from 404.html
    if (l.search[1] === '/' ) {
      var decoded = l.search.slice(1).split('&').map(function(s) { 
        return s.replace(/~and~/g, '&')
      }).join('?');
      
      // Extract the path from the query string
      var path = decoded.replace(/\?.*$/, '');
      
      // Update the URL to use the path instead of query string
      window.history.replaceState(null, null,
        l.pathname.slice(0, -1).split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + '/' + path +
        l.hash
      );
    }
  })();
</script>

<!-- Flutter Web App -->
<script src="main.dart.js" type="application/javascript"></script>

</body>

</html>